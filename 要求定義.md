# プログラム開始
バイトコードを1つ受け取りバイトコード群に追加
バイトコードを0以上受け取りcallee群に追加

与えられたバイトコード群から一つ取り出し、実行開始  
途中でCREATEされたバイトコードもバイトコード群に加えてあとで実行

# 分岐

## 分岐する場合
1. 現在の状態をCFGに保存
1. ジャンプ先pc、続行先pcを用意
1. ジャンプ先pcをセットして現在の状態をdfs用スタックにpush
1. 続行先pcをセットして実行


### ロールバック時
1. dfs用スタックから状態をpop
1. 実行

# createによって新たなコントラクトが生成される場合
## 戻り先の作成
1. 現在の状態をCFGに保存
1. 戻り先となるpcを用意
1. 現在の状態をreturn_destとして維持



# createの初期化コード実行時やcallにおいて外部ジャンプする際
## 戻り先の作成
1. 現在の状態をCFGに保存
1. 戻り先となるpcを用意
1. ~~現在の状態をreturn_destとして維持~~ ←　再びコールがあると上書きされる
1. 現在の状態をcall_stackにpush

## 外部コードの状態作成
1. 外部コントラクトの状態をセット
1. storage(, returndata)を空にする
1. 実行

## 外部から戻るとき(create以外)
1. 現在の状態をCFGに保存
1. call_stackの先頭の状態に現在のstack, memory(, returndata)をセット
1. call_stackからpopした状態を復元
1. 実行

## 外部から戻るとき(create時)
1. 現在の状態をCFGに保存
1. 現在のpcが参照している命令の次の番地~末端までを新しいコントラクトしてバイトコード群に追加
1. call_stackの先頭の状態に現在のstack, memory(, returndata)をセット
1. call_stackからpopした状態を復元
1. 実行


# delegatecallにおいて外部ジャンプする際のBasicBlockの扱い
## 戻り先の作成
上に同じ

## 外部コードの状態作成
1. 外部コントラクトの状態をセット
1. 実行

## 外部から戻るとき
1. 現在の状態をCFGに保存
1. call_stackの先頭の状態に現在のstorage, stack, memory(, returndata)をセット
1. call_stackからpopした状態を復元
1. 実行

# 終端到達時(return以外)
1. 現在の状態をCFGに保存
1. dfs用スタックが空でなければロールバック

